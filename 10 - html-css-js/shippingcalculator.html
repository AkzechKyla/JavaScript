<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>DOM Projects</title>

        <style>
            .error-message {
                color: red;
            }
        </style>
    </head>
    <body>
        <p>YouTube Subscribe Button</p>
        <button class="subscribe-btn" onclick="subscribe()">Subscribe</button>
        <br><br><br>
        <p>Rock Paper Scissors</p>
        <a href="https://supersimple.dev/projects/dom-rock-paper-scissors/">
            Click here
        </a>
        <br><br><br>
        <p>Amazon Shipping calculator</p>
        <p>Orders under $40 = +$10 shipping.</p>
        <p>Orders over $40 = FREE shipping.</p>

        <input type="text" id="cost-order" placeholder="Cost of order" onkeydown="handleCostKeydown(event)">
        <button class="calculate-button" onclick="calculate()">Calculate</button>
        <p class="totalSFdiv"></p>
        <script>
            function subscribe() {
                const subscribeButton = document.querySelector('.subscribe-btn');

                if (subscribeButton.innerHTML === 'Subscribe') {
                    subscribeButton.innerHTML = 'Subscribed';
                } else {
                    subscribeButton.innerHTML = 'Subscribe';
                }
            }

            function handleCostKeydown(event) {
                if (event.key === 'Enter') {
                    calculate();
                }
            }

            function calculate() {
                const costInput = document.getElementById('cost-order');
                const shippingFee = 1000;
                const cost = costInput.value;
                let totalSF = 0;

                if (cost < 40) {
                    // Number() same as parseInt()
                    totalSF = eval(((cost * 100) + shippingFee) / 100);
                } else {
                    totalSF = cost;
                }

                const totalSFdiv = document.querySelector('.totalSFdiv');

                if (cost < 0) {
                    totalSFdiv.innerHTML = '<p class="error-message">Error: cost cannot be less than $0</p>';
                } else {
                    totalSFdiv.innerHTML = `$${totalSF}`;
                }
            }
        </script>
    </body>
</html>
